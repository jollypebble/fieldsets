/**
 * This file determines the visual layout of a diagram and established the ids that fields can be assigned to visually.
 * It uses a backfill function so that you only need to fill in values that differ from the defined defaults.
 */
import DataUtils from 'utils/DataUtils'

/**
 * Defaults will be merged with defined values in the data variable below.
 * Core functionality is based around the following variables.
 * @param int id - The node id.
 * @param string name - The node name
 * @param string parent - id of the parent node
 * @param float centerX - X coordinate on the diagram
 * @param float centerY - Y coordinate on the diagram
 * @param array[string] children - Any child node ids
 * @param object{string,object} display{shape,attributes{}} - Display parameters includig tHe shape to display on the x,y coordinate and any attibutes needed for that shape.
 */
const valueDefaults = {
  id: 'default',
  name: 'default',
  parent: '',
  centerX: 400,
  centerY: 400,
  children: [],
  display: {
    shape: 'Circle', // The shape Component
    attributes: {
      textSize: 0.6,
      ratio: 1
    }, // Shape attributes
    className: '', // Additional classnames
    visible: true, // Visibility
    zoom: { // Used for handling zoom functionality
      scale: 1,
      x: 0.5,
      y: 0.5,
    } // Zoom functionality
  }
}

const parentDefaultAttrs = {
  radiusX: 75,
  radiusY: 16,
}

const defenseDefault = {
  display: {
    attributes: {
      ratio: 1.2,
      textSize: 0.45,
      radius: 75
    },
    zoom: {
      scale: 1,
      x: 0.5,
      y: 0.5
    }
  }
};

const offenseDefault = {
  display: {
    attributes: {
      ratio: 1.7,
      textSize: 0.28,
      radius: 75
    }
  }
};

const offenseSmall = {
  display: {
    attributes: {
      ratio: 1.4,
      textSize: 0.3,
      radius: 65
    }
  }
}

/**
 * This is our diagram data point. We define this here in our config, but this could just as easily be generated by a graphql query that spits back the needed data format.
 * Data values found in the defaults will be merged with the elements in this array.
 */
const data = [
  {
    id: 'monthly_contribution',
    name: 'Monthly Contribution',
    centerX: 720,
    centerY: 240,
    display: {
      shape: 'Rectangle',
      attributes: {
        textX: 780,
        textY: 258,
        textSize: 0.6,
        width: 120,
        height: 30
      }
    }
  },
  {
    id: 'lump_sums',
    name: 'Lump Sums',
    centerX: 900,
    centerY: 240,
    display: {
      shape: 'Rectangle',
      attributes: {
        textX: 960,
        textY: 258,
        textSize: 0.6,
        width: 120,
        height: 30
      }
    }
  },
  {
    id: 'net_worth',
    name: 'Net Worth',
    centerX: 880,
    centerY: 428,
    display: {
      shape: 'radialGroup',
      attributes: {
        path: 'M629,430.638262 L 878.611509,399.411159 L1126.163759,425.812255 L 878.611509 461.865365 z',
        gradientId: 'netWorth',
      }
    }
  },
  {
    id: 'defense_allocation',
    name: 'Defense Allocation',
    centerX: 880,
    centerY: 383,
    display: {
      shape: 'radialGroup',
      attributes: {
        path: 'M626,430.638262 L875.611509,399.411159 L1123.16376,425.812255 C1210.57272,435.134296 1151.09059,506.664739 1123.3138,426.146136 C1095.53701,345.627533 995.302104,286 875.905688,286 C754.089207,286 652.21888,348.069231 626.898289,431.067696',
        gradientId: 'defenceAllocation',
        textSize: 0.8
      },
      zoom: {
        scale: 1
      }
    },
    children: [ // Should `children` be thought of as `data`. The `chldren` field name is used to imply this can be eith a series of liner data points or a series of relationally nested data objects.
      {
        id: 'will',
        name: 'Will',
        parent: 'defense_allocation',
        centerX: 730,
        centerY: 375,
        ...defenseDefault
      },
      {
        id: 'disability_insurance',
        name: 'Disabilty Insurance',
        parent: 'defense_allocation',
        centerX: 818,
        centerY: 332,
        ...defenseDefault
      },
      {
        id: 'long_term_care',
        name: 'Long Term Care',
        parent: 'defense_allocation',
        centerX: 935,
        centerY: 330,
        ...defenseDefault
      },
      {
        id: 'term_insurance',
        name: 'Term Insurance',
        parent: 'defense_allocation',
        centerX: 1030,
        centerY: 375,
        ...defenseDefault
      }
    ]
  },
  {
    id: 'offense_allocation',
    name: 'Offense Allocation',
    centerX: 880,
    centerY: 465,
    children: [
      {
        id: 'short_term_money',
        name: 'Short Term Money',
        parent: 'offense_allocation',
        centerX: 725,
        centerY: 465,
        display: {
          shape: 'radialGroup',
          attributes: {
            path: 'M758.003055,634 C735.033876,625.238795 714.128139,614.002703 695.954648,600.77872 C649.83742,567.221412 621.314391,520.863156 621.314391,469.661898 C621.314391,456.029381 623.336416,442.740188 627.174184,429.944527 C631.011952,417.148866 612.361949,428.791811 626.172556,430.118997 L876,454.127187 L758.079091,633.200035',
            textSize: 1,
            gradientId: 'shortTermMoney'
          },
        },
        children: [
          {
            id: 'cash_equivalents',
            name: 'Cash Equivalents',
            parent: 'short_term_money',
            centerX: 690,
            centerY: 510,
            ...offenseDefault
          },
          {
            id: 'mortgage',
            name: 'Mortgage',
            parent: 'short_term_money',
            centerX: 770,
            centerY: 500,
            ...offenseDefault
          },
          {
            id: 'liabilities_debt',
            name: 'Liabilities/Debt',
            parent: 'short_term_money',
            centerX: 740,
            centerY: 570,
            ...offenseDefault
          },
        ]
      },
      {
        id: 'mid_term_money',
        name: 'Mid Term Money',
        parent: 'offense_allocation',
        centerX: 890,
        centerY: 630,
        display: {
          shape: 'radialGroup',
          attributes: {
            path: 'M756.882797,634.106114 L876,455 L1010.00201,628.173577 C1036.03727,661.510959 1049.72019,610.1111 1010.47324,627.909784 C971.226293,645.708467 924.802732,656 875.054149,656 C832.05672,656 791.5431,648.312173 756,634.734206',
            textSize: 1,
            gradientId: 'midTermMoney'
          }
        },
        children: [
          {
            id: 'utmas',
            name: 'UTMA\'s',
            parent: 'mid_term_money',
            centerX: 885,
            centerY: 525,
            ...offenseDefault
          },
          {
            id: 'plan_529',
            name: '529 Plan',
            parent: 'mid_term_money',
            centerX: 845,
            centerY: 580,
            ...offenseDefault
          },
          {
            id: 'investment_account',
            name: 'Investment Account',
            parent: 'mid_term_money',
            centerX: 925,
            centerY: 580,
            ...offenseDefault
          },
        ]
      },
      {
        id: 'long_term_money',
        name: 'Long Term Money',
        parent: 'offense_allocation',
        centerX: 1040,
        centerY: 455,
        display: {
          shape: 'radialGroup',
          attributes: {
            path: 'M1123.21486,425 L876,454.061867 L1010.99136,628.717987 C1058.76391,690.527632 938.872803,661.542717 1010.95587,628.683133 C1083.03893,595.823548 1131,537.367903 1131,470.729702 C1131,455.17425 1128.38659,440.064667 1123.463,425.622449',
            textSize: 1,
            gradientId: 'longTermMoney'
          },
        },
        children: [
          {
            id: 'cash_value_life',
            name: 'Cash Value Life',
            parent: 'long_term_money',
            centerX: 980,
            centerY: 490,
            ...offenseDefault
          },
          {
            id: 'ira_roth',
            name: 'IRA ROTH',
            parent: 'long_term_money',
            centerX: 1010,
            centerY: 545,
            ...offenseDefault
          },
          {
            id: 'k_401',
            name: '401 K',
            parent: 'long_term_money',
            centerX: 1045,
            centerY: 490,
            ...offenseDefault
          },
          {
            id: 'annuity',
            name: 'Annuity',
            parent: 'long_term_money',
            centerX: 1032,
            centerY: 592,
            ...offenseSmall
          },
          {
            id: 'stock_option',
            name: 'Stock option',
            parent: 'long_term_money',
            centerX: 1070,
            centerY: 560,
            ...offenseSmall
          },
          {
            id: 'investment_real_estate',
            name: 'Real Estate',
            parent: 'long_term_money',
            centerX: 1095,
            centerY: 520,
            ...offenseSmall
          },
          {
            id: 'deffered_comp',
            name: 'Deffered Comp',
            parent: 'long_term_money',
            centerX: 1105,
            centerY: 472,
            ...offenseSmall
          }
        ]
      },
      {
        id: 'offense_parent',
        name: 'Offese Allocation',
        centerX: 880,
        centerY: 465,
        display: {
          shape: 'ellipse',
          attributes: {
            ...parentDefaultAttrs,
          }
        }
      },
      {
        id: 'defense_parent',
        name: 'Defense Allocation',
        centerX: 880,
        centerY: 390,
        display: {
          shape: 'ellipse',
          attributes: {
            ...parentDefaultAttrs,
          }
        }
      },
      {
        id: 'net_worth',
        name: 'Net Worth',
        centerX: 880,
        centerY: 428,
        display: {
          shape: 'ellipse',
          attributes: {
            ...parentDefaultAttrs,
          }
        }
      }
    ]
  }
];
// Backfill our data.
const DiagramData = DataUtils.backfillDiagramData(data, valueDefaults);
export default DiagramData;
